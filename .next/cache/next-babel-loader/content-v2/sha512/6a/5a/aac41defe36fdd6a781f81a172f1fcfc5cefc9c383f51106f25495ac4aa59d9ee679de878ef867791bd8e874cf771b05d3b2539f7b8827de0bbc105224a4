{"ast":null,"code":"import { doc, getDoc } from \"@firebase/firestore\";\nimport { db } from \"../../firebase/firebase\";\nexport default async function (req, res) {\n  const {\n    user\n  } = req.query;\n\n  try {\n    if (req.method === \"GET\") {\n      const doc = await getDoc(doc(db, \"users\", user));\n\n      if (!doc.exists()) {\n        res.status(404).end();\n      } else {\n        res.status(200).json(doc);\n      }\n    }\n  } catch (err) {\n    res.status(400);\n  }\n}","map":{"version":3,"sources":["D:/Udemy/nextjs/06-onwards-to-a-bigger-project-starting-project/pages/api/[user].js"],"names":["doc","getDoc","db","req","res","user","query","method","exists","status","end","json","err"],"mappings":"AAAA,SAASA,GAAT,EAAcC,MAAd,QAA4B,qBAA5B;AACA,SAASC,EAAT,QAAmB,yBAAnB;AAEA,eAAe,gBAAgBC,GAAhB,EAAqBC,GAArB,EAA0B;AACvC,QAAM;AAAEC,IAAAA;AAAF,MAAWF,GAAG,CAACG,KAArB;;AAEA,MAAI;AACF,QAAIH,GAAG,CAACI,MAAJ,KAAe,KAAnB,EAA0B;AACxB,YAAMP,GAAG,GAAG,MAAMC,MAAM,CAACD,GAAG,CAACE,EAAD,EAAK,OAAL,EAAcG,IAAd,CAAJ,CAAxB;;AACA,UAAI,CAACL,GAAG,CAACQ,MAAJ,EAAL,EAAmB;AACjBJ,QAAAA,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,GAAhB;AACD,OAFD,MAEO;AACLN,QAAAA,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBE,IAAhB,CAAqBX,GAArB;AACD;AACF;AACF,GATD,CASE,OAAOY,GAAP,EAAY;AACZR,IAAAA,GAAG,CAACK,MAAJ,CAAW,GAAX;AACD;AACF","sourcesContent":["import { doc, getDoc } from \"@firebase/firestore\";\r\nimport { db } from \"../../firebase/firebase\";\r\n\r\nexport default async function (req, res) {\r\n  const { user } = req.query;\r\n\r\n  try {\r\n    if (req.method === \"GET\") {\r\n      const doc = await getDoc(doc(db, \"users\", user));\r\n      if (!doc.exists()) {\r\n        res.status(404).end();\r\n      } else {\r\n        res.status(200).json(doc);\r\n      }\r\n    }\r\n  } catch (err) {\r\n    res.status(400);\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}