{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\Udemy\\\\nextjs\\\\06-onwards-to-a-bigger-project-starting-project\\\\pages\\\\new-meetup\\\\index.js\";\nimport React from \"react\";\nimport NewMeetUpForm from \"../../components/meetups/NewMeetupForm\";\nimport { useRouter } from \"next/router\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addUser } from \"../../store/slice\";\nimport { wrapper } from \"../../store/store\";\nimport { addDoc, collection } from \"@firebase/firestore\";\nimport db from \"../../firebase/firebase\";\n\nfunction NewMeetPage(props) {\n  const router = useRouter();\n  const users = useSelector(state => state.users);\n  console.log(props);\n  const dispatch = useDispatch();\n\n  async function addMeetHandler(formData) {\n    // const response = await fetch(\"/api/new-meetup\", {\n    //   method: \"POST\",\n    //   body: JSON.stringify(formData),\n    //   headers: {\n    //     \"Content-Type\": \"application/json\",\n    //   },\n    // });\n    // const data = await response.json();\n    // router.push(\"/\");\n    // ///////\n    await addDoc(collection(db, \"meetups\"), formData);\n    router.replace(\"/\");\n  }\n\n  return /*#__PURE__*/_jsxDEV(NewMeetUpForm, {\n    onAddMeetup: addMeetHandler\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 10\n  }, this);\n}\n\nexport const getServerSideProps = wrapper.getServerSideProps(store => async () => {\n  await store.dispatch(addUser(\"hey\"));\n  const users = store.getState().users;\n  return {\n    props: {\n      users\n    }\n  };\n});\nexport default NewMeetPage;","map":{"version":3,"sources":["D:/Udemy/nextjs/06-onwards-to-a-bigger-project-starting-project/pages/new-meetup/index.js"],"names":["React","NewMeetUpForm","useRouter","useDispatch","useSelector","addUser","wrapper","addDoc","collection","db","NewMeetPage","props","router","users","state","console","log","dispatch","addMeetHandler","formData","replace","getServerSideProps","store","getState"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,aAAP,MAA0B,wCAA1B;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,OAAT,QAAwB,mBAAxB;AACA,SAASC,OAAT,QAAwB,mBAAxB;AACA,SAASC,MAAT,EAAiBC,UAAjB,QAAmC,qBAAnC;AACA,OAAOC,EAAP,MAAe,yBAAf;;AACA,SAASC,WAAT,CAAqBC,KAArB,EAA4B;AAC1B,QAAMC,MAAM,GAAGV,SAAS,EAAxB;AACA,QAAMW,KAAK,GAAGT,WAAW,CAAEU,KAAD,IAAWA,KAAK,CAACD,KAAlB,CAAzB;AACAE,EAAAA,OAAO,CAACC,GAAR,CAAYL,KAAZ;AACA,QAAMM,QAAQ,GAAGd,WAAW,EAA5B;;AACA,iBAAee,cAAf,CAA8BC,QAA9B,EAAwC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAMZ,MAAM,CAACC,UAAU,CAACC,EAAD,EAAK,SAAL,CAAX,EAA4BU,QAA5B,CAAZ;AACAP,IAAAA,MAAM,CAACQ,OAAP,CAAe,GAAf;AACD;;AACD,sBAAO,QAAC,aAAD;AAAe,IAAA,WAAW,EAAEF;AAA5B;AAAA;AAAA;AAAA;AAAA,UAAP;AACD;;AACD,OAAO,MAAMG,kBAAkB,GAAGf,OAAO,CAACe,kBAAR,CAC/BC,KAAD,IAAW,YAAY;AACrB,QAAMA,KAAK,CAACL,QAAN,CAAeZ,OAAO,CAAC,KAAD,CAAtB,CAAN;AACA,QAAMQ,KAAK,GAAGS,KAAK,CAACC,QAAN,GAAiBV,KAA/B;AACA,SAAO;AACLF,IAAAA,KAAK,EAAE;AAAEE,MAAAA;AAAF;AADF,GAAP;AAGD,CAP+B,CAA3B;AAUP,eAAeH,WAAf","sourcesContent":["import React from \"react\";\r\nimport NewMeetUpForm from \"../../components/meetups/NewMeetupForm\";\r\nimport { useRouter } from \"next/router\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { addUser } from \"../../store/slice\";\r\nimport { wrapper } from \"../../store/store\";\r\nimport { addDoc, collection } from \"@firebase/firestore\";\r\nimport db from \"../../firebase/firebase\";\r\nfunction NewMeetPage(props) {\r\n  const router = useRouter();\r\n  const users = useSelector((state) => state.users);\r\n  console.log(props);\r\n  const dispatch = useDispatch();\r\n  async function addMeetHandler(formData) {\r\n    // const response = await fetch(\"/api/new-meetup\", {\r\n    //   method: \"POST\",\r\n    //   body: JSON.stringify(formData),\r\n    //   headers: {\r\n    //     \"Content-Type\": \"application/json\",\r\n    //   },\r\n    // });\r\n    // const data = await response.json();\r\n    // router.push(\"/\");\r\n    // ///////\r\n    await addDoc(collection(db, \"meetups\"), formData);\r\n    router.replace(\"/\");\r\n  }\r\n  return <NewMeetUpForm onAddMeetup={addMeetHandler} />;\r\n}\r\nexport const getServerSideProps = wrapper.getServerSideProps(\r\n  (store) => async () => {\r\n    await store.dispatch(addUser(\"hey\"));\r\n    const users = store.getState().users;\r\n    return {\r\n      props: { users },\r\n    };\r\n  }\r\n);\r\n\r\nexport default NewMeetPage;\r\n"]},"metadata":{},"sourceType":"module"}