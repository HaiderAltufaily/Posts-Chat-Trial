{"ast":null,"code":"import _regeneratorRuntime from \"D:/Udemy/nextjs/06-onwards-to-a-bigger-project-starting-project/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/Udemy/nextjs/06-onwards-to-a-bigger-project-starting-project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _s = $RefreshSig$();\n\nimport { setDoc } from \"@firebase/firestore\";\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\n\nvar useFetch = function useFetch(_ref) {\n  _s();\n\n  var method = _ref.method,\n      url = _ref.url,\n      body = _ref.body;\n\n  var _useState = useState(true),\n      isLoading = _useState[0],\n      setIsLoading = _useState[1];\n\n  var _useState2 = useState(null),\n      error = _useState2[0],\n      setError = _useState2[1];\n\n  var _useState3 = useState([]),\n      data = _useState3[0],\n      setData = _useState3[1];\n\n  console.log(method, url, body);\n\n  function getData() {\n    return _getData.apply(this, arguments);\n  }\n\n  function _getData() {\n    _getData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var response, _data;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return fetch(url);\n\n            case 3:\n              response = _context.sent;\n\n              if (response.ok) {\n                _context.next = 6;\n                break;\n              }\n\n              throw new Error(\"something went wrong\");\n\n            case 6:\n              _context.next = 8;\n              return response.json();\n\n            case 8:\n              _data = _context.sent;\n              setData(_data);\n              setIsLoading(false);\n              _context.next = 17;\n              break;\n\n            case 13:\n              _context.prev = 13;\n              _context.t0 = _context[\"catch\"](0);\n              setError(_context.t0.message);\n              setIsLoading(false);\n\n            case 17:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 13]]);\n    }));\n    return _getData.apply(this, arguments);\n  }\n\n  useEffect(function () {\n    getData();\n  }, []);\n  return {\n    isLoading: isLoading,\n    error: error,\n    data: data\n  };\n};\n\n_s(useFetch, \"AxZr47JVOJi/LgN2hHfSVFIhSbU=\");\n\nexport default useFetch;","map":{"version":3,"sources":["D:/Udemy/nextjs/06-onwards-to-a-bigger-project-starting-project/hooks/useFetch.js"],"names":["setDoc","axios","useEffect","useState","useFetch","method","url","body","isLoading","setIsLoading","error","setError","data","setData","console","log","getData","fetch","response","ok","Error","json","message"],"mappings":";;;;;AAAA,SAASA,MAAT,QAAuB,qBAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;;AAEA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,OAA2B;AAAA;;AAAA,MAAxBC,MAAwB,QAAxBA,MAAwB;AAAA,MAAhBC,GAAgB,QAAhBA,GAAgB;AAAA,MAAXC,IAAW,QAAXA,IAAW;;AAAA,kBACRJ,QAAQ,CAAC,IAAD,CADA;AAAA,MACnCK,SADmC;AAAA,MACxBC,YADwB;;AAAA,mBAEhBN,QAAQ,CAAC,IAAD,CAFQ;AAAA,MAEnCO,KAFmC;AAAA,MAE5BC,QAF4B;;AAAA,mBAGlBR,QAAQ,CAAC,EAAD,CAHU;AAAA,MAGnCS,IAHmC;AAAA,MAG7BC,OAH6B;;AAI1CC,EAAAA,OAAO,CAACC,GAAR,CAAYV,MAAZ,EAAoBC,GAApB,EAAyBC,IAAzB;;AAJ0C,WAK3BS,OAL2B;AAAA;AAAA;;AAAA;AAAA,wEAK1C;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAE2BC,KAAK,CAACX,GAAD,CAFhC;;AAAA;AAEUY,cAAAA,QAFV;;AAAA,kBAGSA,QAAQ,CAACC,EAHlB;AAAA;AAAA;AAAA;;AAAA,oBAIY,IAAIC,KAAJ,CAAU,sBAAV,CAJZ;;AAAA;AAAA;AAAA,qBAMuBF,QAAQ,CAACG,IAAT,EANvB;;AAAA;AAMUT,cAAAA,KANV;AAOIC,cAAAA,OAAO,CAACD,KAAD,CAAP;AACAH,cAAAA,YAAY,CAAC,KAAD,CAAZ;AARJ;AAAA;;AAAA;AAAA;AAAA;AAUIE,cAAAA,QAAQ,CAAC,YAAIW,OAAL,CAAR;AACAb,cAAAA,YAAY,CAAC,KAAD,CAAZ;;AAXJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAL0C;AAAA;AAAA;;AAmB1CP,EAAAA,SAAS,CAAC,YAAM;AACdc,IAAAA,OAAO;AACR,GAFQ,EAEN,EAFM,CAAT;AAGA,SAAO;AACLR,IAAAA,SAAS,EAATA,SADK;AAELE,IAAAA,KAAK,EAALA,KAFK;AAGLE,IAAAA,IAAI,EAAJA;AAHK,GAAP;AAKD,CA3BD;;GAAMR,Q;;AA4BN,eAAeA,QAAf","sourcesContent":["import { setDoc } from \"@firebase/firestore\";\r\nimport axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nconst useFetch = ({ method, url, body }) => {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [data, setData] = useState([]);\r\n  console.log(method, url, body);\r\n  async function getData() {\r\n    try {\r\n      const response = await fetch(url);\r\n      if (!response.ok) {\r\n        throw new Error(\"something went wrong\");\r\n      }\r\n      const data = await response.json();\r\n      setData(data);\r\n      setIsLoading(false);\r\n    } catch (err) {\r\n      setError(err.message);\r\n      setIsLoading(false);\r\n    }\r\n  }\r\n  useEffect(() => {\r\n    getData();\r\n  }, []);\r\n  return {\r\n    isLoading,\r\n    error,\r\n    data,\r\n  };\r\n};\r\nexport default useFetch;\r\n"]},"metadata":{},"sourceType":"module"}