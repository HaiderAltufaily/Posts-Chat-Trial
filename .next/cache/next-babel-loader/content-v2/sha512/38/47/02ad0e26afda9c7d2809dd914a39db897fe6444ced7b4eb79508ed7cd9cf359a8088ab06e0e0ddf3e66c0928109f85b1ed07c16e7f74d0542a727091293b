{"ast":null,"code":"import { doc, getDoc } from \"@firebase/firestore\";\nimport { db } from \"../../firebase/firebase\";\nexport default async function (req, res) {\n  const {\n    user\n  } = req.query;\n\n  try {\n    if (req.method === \"GET\") {\n      const document = await getDoc(doc(db, \"users\", user));\n\n      if (!document.exists()) {\n        res.status(404).end();\n      } else {\n        res.status(200).json(document.data());\n      }\n    }\n  } catch (err) {\n    res.status(400);\n  }\n}","map":{"version":3,"sources":["D:/Udemy/nextjs/06-onwards-to-a-bigger-project-starting-project/pages/api/[user].js"],"names":["doc","getDoc","db","req","res","user","query","method","document","exists","status","end","json","data","err"],"mappings":"AAAA,SAASA,GAAT,EAAcC,MAAd,QAA4B,qBAA5B;AACA,SAASC,EAAT,QAAmB,yBAAnB;AAEA,eAAe,gBAAgBC,GAAhB,EAAqBC,GAArB,EAA0B;AACvC,QAAM;AAAEC,IAAAA;AAAF,MAAWF,GAAG,CAACG,KAArB;;AAEA,MAAI;AACF,QAAIH,GAAG,CAACI,MAAJ,KAAe,KAAnB,EAA0B;AACxB,YAAMC,QAAQ,GAAG,MAAMP,MAAM,CAACD,GAAG,CAACE,EAAD,EAAK,OAAL,EAAcG,IAAd,CAAJ,CAA7B;;AAEA,UAAI,CAACG,QAAQ,CAACC,MAAT,EAAL,EAAwB;AACtBL,QAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,GAAhB;AACD,OAFD,MAEO;AACLP,QAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBE,IAAhB,CAAqBJ,QAAQ,CAACK,IAAT,EAArB;AACD;AACF;AACF,GAVD,CAUE,OAAOC,GAAP,EAAY;AACZV,IAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX;AACD;AACF","sourcesContent":["import { doc, getDoc } from \"@firebase/firestore\";\r\nimport { db } from \"../../firebase/firebase\";\r\n\r\nexport default async function (req, res) {\r\n  const { user } = req.query;\r\n\r\n  try {\r\n    if (req.method === \"GET\") {\r\n      const document = await getDoc(doc(db, \"users\", user));\r\n\r\n      if (!document.exists()) {\r\n        res.status(404).end();\r\n      } else {\r\n        res.status(200).json(document.data());\r\n      }\r\n    }\r\n  } catch (err) {\r\n    res.status(400);\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}