{"ast":null,"code":"import _regeneratorRuntime from \"D:/Udemy/nextjs/06-onwards-to-a-bigger-project-starting-project/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/Udemy/nextjs/06-onwards-to-a-bigger-project-starting-project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _s = $RefreshSig$();\n\nimport { setDoc } from \"@firebase/firestore\";\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\n\nvar useFetch = function useFetch(_ref, applyData) {\n  _s();\n\n  var url = _ref.url,\n      _ref$method = _ref.method,\n      method = _ref$method === void 0 ? \"get\" : _ref$method,\n      _ref$body = _ref.body,\n      body = _ref$body === void 0 ? null : _ref$body;\n\n  var _useState = useState(true),\n      isLoading = _useState[0],\n      setIsLoading = _useState[1];\n\n  var _useState2 = useState(null),\n      error = _useState2[0],\n      setError = _useState2[1];\n\n  var _useState3 = useState([]),\n      data = _useState3[0],\n      setData = _useState3[1]; //   console.log(method, url, body);\n\n\n  function getData() {\n    return _getData.apply(this, arguments);\n  }\n\n  function _getData() {\n    _getData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return axios[method](url, body).then(function (data) {\n                setData(data.data);\n                applyData(data);\n                setIsLoading(false);\n              })[\"catch\"](function (err) {\n                setError(err.message);\n                setIsLoading(false);\n              });\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _getData.apply(this, arguments);\n  }\n\n  useEffect(function () {\n    getData();\n  }, []);\n  return {\n    isLoading: isLoading,\n    error: error,\n    data: data,\n    getData: getData\n  };\n};\n\n_s(useFetch, \"AxZr47JVOJi/LgN2hHfSVFIhSbU=\");\n\nexport default useFetch;","map":{"version":3,"sources":["D:/Udemy/nextjs/06-onwards-to-a-bigger-project-starting-project/hooks/useFetch.js"],"names":["setDoc","axios","useEffect","useState","useFetch","applyData","url","method","body","isLoading","setIsLoading","error","setError","data","setData","getData","then","err","message"],"mappings":";;;;;AAAA,SAASA,MAAT,QAAuB,qBAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;;AAEA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,OAAuCC,SAAvC,EAAqD;AAAA;;AAAA,MAAlDC,GAAkD,QAAlDA,GAAkD;AAAA,yBAA7CC,MAA6C;AAAA,MAA7CA,MAA6C,4BAApC,KAAoC;AAAA,uBAA7BC,IAA6B;AAAA,MAA7BA,IAA6B,0BAAtB,IAAsB;;AAAA,kBAClCL,QAAQ,CAAC,IAAD,CAD0B;AAAA,MAC7DM,SAD6D;AAAA,MAClDC,YADkD;;AAAA,mBAE1CP,QAAQ,CAAC,IAAD,CAFkC;AAAA,MAE7DQ,KAF6D;AAAA,MAEtDC,QAFsD;;AAAA,mBAG5CT,QAAQ,CAAC,EAAD,CAHoC;AAAA,MAG7DU,IAH6D;AAAA,MAGvDC,OAHuD,kBAIpE;;;AAJoE,WAKrDC,OALqD;AAAA;AAAA;;AAAA;AAAA,wEAKpE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACQd,KAAK,CAACM,MAAD,CAAL,CAAcD,GAAd,EAAmBE,IAAnB,EACHQ,IADG,CACE,UAACH,IAAD,EAAU;AACdC,gBAAAA,OAAO,CAACD,IAAI,CAACA,IAAN,CAAP;AACAR,gBAAAA,SAAS,CAACQ,IAAD,CAAT;AACAH,gBAAAA,YAAY,CAAC,KAAD,CAAZ;AACD,eALG,WAMG,UAACO,GAAD,EAAS;AACdL,gBAAAA,QAAQ,CAACK,GAAG,CAACC,OAAL,CAAR;AACAR,gBAAAA,YAAY,CAAC,KAAD,CAAZ;AACD,eATG,CADR;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KALoE;AAAA;AAAA;;AAiBpER,EAAAA,SAAS,CAAC,YAAM;AACda,IAAAA,OAAO;AACR,GAFQ,EAEN,EAFM,CAAT;AAGA,SAAO;AACLN,IAAAA,SAAS,EAATA,SADK;AAELE,IAAAA,KAAK,EAALA,KAFK;AAGLE,IAAAA,IAAI,EAAJA,IAHK;AAILE,IAAAA,OAAO,EAAPA;AAJK,GAAP;AAMD,CA1BD;;GAAMX,Q;;AA2BN,eAAeA,QAAf","sourcesContent":["import { setDoc } from \"@firebase/firestore\";\r\nimport axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nconst useFetch = ({ url, method = \"get\", body = null }, applyData) => {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [data, setData] = useState([]);\r\n  //   console.log(method, url, body);\r\n  async function getData() {\r\n    await axios[method](url, body)\r\n      .then((data) => {\r\n        setData(data.data);\r\n        applyData(data);\r\n        setIsLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        setError(err.message);\r\n        setIsLoading(false);\r\n      });\r\n  }\r\n  useEffect(() => {\r\n    getData();\r\n  }, []);\r\n  return {\r\n    isLoading,\r\n    error,\r\n    data,\r\n    getData,\r\n  };\r\n};\r\nexport default useFetch;\r\n"]},"metadata":{},"sourceType":"module"}