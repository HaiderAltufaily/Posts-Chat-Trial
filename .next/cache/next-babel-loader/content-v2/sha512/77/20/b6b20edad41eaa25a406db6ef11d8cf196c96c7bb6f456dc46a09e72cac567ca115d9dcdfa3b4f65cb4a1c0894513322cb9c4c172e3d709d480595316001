{"ast":null,"code":"import _regeneratorRuntime from \"D:/Udemy/nextjs/06-onwards-to-a-bigger-project-starting-project/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/Udemy/nextjs/06-onwards-to-a-bigger-project-starting-project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _s = $RefreshSig$();\n\nimport { setDoc } from \"@firebase/firestore\";\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\n\nvar useFetch = function useFetch(_ref) {\n  _s();\n\n  var url = _ref.url,\n      method = _ref.method,\n      body = _ref.body;\n\n  var _useState = useState(true),\n      isLoading = _useState[0],\n      setIsLoading = _useState[1];\n\n  var _useState2 = useState(null),\n      error = _useState2[0],\n      setError = _useState2[1];\n\n  var _useState3 = useState([]),\n      data = _useState3[0],\n      setData = _useState3[1]; //   console.log(method, url, body);\n\n\n  function getData() {\n    return _getData.apply(this, arguments);\n  }\n\n  function _getData() {\n    _getData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return axios[method](url).then(function (data) {\n                setData(data.data);\n                setIsLoading(false);\n              })[\"catch\"](function (err) {\n                setError(err.message);\n                setIsLoading(false);\n              });\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _getData.apply(this, arguments);\n  }\n\n  useEffect(function () {\n    getData();\n  }, []);\n  return {\n    isLoading: isLoading,\n    error: error,\n    data: data\n  };\n};\n\n_s(useFetch, \"AxZr47JVOJi/LgN2hHfSVFIhSbU=\");\n\nexport default useFetch;","map":{"version":3,"sources":["D:/Udemy/nextjs/06-onwards-to-a-bigger-project-starting-project/hooks/useFetch.js"],"names":["setDoc","axios","useEffect","useState","useFetch","url","method","body","isLoading","setIsLoading","error","setError","data","setData","getData","then","err","message"],"mappings":";;;;;AAAA,SAASA,MAAT,QAAuB,qBAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;;AAEA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,OAA2B;AAAA;;AAAA,MAAxBC,GAAwB,QAAxBA,GAAwB;AAAA,MAAnBC,MAAmB,QAAnBA,MAAmB;AAAA,MAAXC,IAAW,QAAXA,IAAW;;AAAA,kBACRJ,QAAQ,CAAC,IAAD,CADA;AAAA,MACnCK,SADmC;AAAA,MACxBC,YADwB;;AAAA,mBAEhBN,QAAQ,CAAC,IAAD,CAFQ;AAAA,MAEnCO,KAFmC;AAAA,MAE5BC,QAF4B;;AAAA,mBAGlBR,QAAQ,CAAC,EAAD,CAHU;AAAA,MAGnCS,IAHmC;AAAA,MAG7BC,OAH6B,kBAI1C;;;AAJ0C,WAK3BC,OAL2B;AAAA;AAAA;;AAAA;AAAA,wEAK1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACQb,KAAK,CAACK,MAAD,CAAL,CAAcD,GAAd,EACHU,IADG,CACE,UAACH,IAAD,EAAU;AACdC,gBAAAA,OAAO,CAACD,IAAI,CAACA,IAAN,CAAP;AACAH,gBAAAA,YAAY,CAAC,KAAD,CAAZ;AACD,eAJG,WAKG,UAACO,GAAD,EAAS;AACdL,gBAAAA,QAAQ,CAACK,GAAG,CAACC,OAAL,CAAR;AACAR,gBAAAA,YAAY,CAAC,KAAD,CAAZ;AACD,eARG,CADR;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAL0C;AAAA;AAAA;;AAgB1CP,EAAAA,SAAS,CAAC,YAAM;AACdY,IAAAA,OAAO;AACR,GAFQ,EAEN,EAFM,CAAT;AAGA,SAAO;AACLN,IAAAA,SAAS,EAATA,SADK;AAELE,IAAAA,KAAK,EAALA,KAFK;AAGLE,IAAAA,IAAI,EAAJA;AAHK,GAAP;AAKD,CAxBD;;GAAMR,Q;;AAyBN,eAAeA,QAAf","sourcesContent":["import { setDoc } from \"@firebase/firestore\";\r\nimport axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nconst useFetch = ({ url, method, body }) => {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [data, setData] = useState([]);\r\n  //   console.log(method, url, body);\r\n  async function getData() {\r\n    await axios[method](url)\r\n      .then((data) => {\r\n        setData(data.data);\r\n        setIsLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        setError(err.message);\r\n        setIsLoading(false);\r\n      });\r\n  }\r\n  useEffect(() => {\r\n    getData();\r\n  }, []);\r\n  return {\r\n    isLoading,\r\n    error,\r\n    data,\r\n  };\r\n};\r\nexport default useFetch;\r\n"]},"metadata":{},"sourceType":"module"}